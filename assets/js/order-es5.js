"use strict";var monthMap=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],currentDate=dayjs(),activeDate=currentDate.add(1,"d"),dateSelectorData=[{date:"2023-07-01",status:"available"},{date:"2023-07-02",status:"half"},{date:"2023-07-03",status:"half"},{date:"2023-07-04",status:"half"},{date:"2023-07-05",status:"half"},{date:"2023-07-06",status:"available"},{date:"2023-07-07",status:"half"},{date:"2023-07-08",status:"half"},{date:"2023-07-09",status:"half"},{date:"2023-07-10",status:"half"},{date:"2023-07-11",status:"half"},{date:"2023-07-12",status:"half"}],availableTime={morning:["11:00"],afternoon:["12:00","13:00","14:00","15:00","16:00"],night:["17:00","18:00","19:00","20:00","21:00","21:00"]},monthElement=$(".month-year-text"),lastMonthElement=$(".month-year-prev"),nextMonthElement=$(".month-year-next"),dateElement=$(".date-selector-dateItem"),updateDate=function(){for(var a=dayjs(currentDate).date(1).day(),e=0;e<dateElement.length;e++)!function(t){var e=void 0;t<a?(e=currentDate.date(1).subtract(a-t,"day"),dateElement.get(t).innerText=e.date(),$(dateElement.get(t)).attr({"v-date":e.format("YYYY-MM-DD")})):t===a?(e=currentDate,dateElement.get(t).innerText="1",$(dateElement.get(t)).attr({"v-date":currentDate.date(1).format("YYYY-MM-DD")})):(e=currentDate.date(1).add(t-a,"day"),dateElement.get(t).innerText=e.date(),$(dateElement.get(t)).attr({"v-date":e.format("YYYY-MM-DD")})),e.isSame(activeDate,"day")?$(dateElement.get(t)).addClass("activeDate"):$(dateElement.get(t)).removeClass("activeDate");e=dateSelectorData.find(function(e){return e.date===$(dateElement.get(t)).attr("v-date")});e?("half"===e.status?($(dateElement.get(t)).addClass("halfDateStatus"),$(dateElement.get(t)).attr({title:"所選日期已部分預定 - 仍可有預定時段"})):($(dateElement.get(t)).removeClass("halfDateStatus"),$(dateElement.get(t)).attr({title:"選定的日期可用"})),$(dateElement.get(t)).removeClass("disabledDateStatus")):($(dateElement.get(t)).addClass("disabledDateStatus"),$(dateElement.get(t)).removeClass("halfDateStatus"),$(dateElement.get(t)).attr({title:"所選無效"}))}(e)},renderMonthYear=function(){monthElement.text("".concat(monthMap[currentDate.month()]," ").concat(currentDate.year())),updateDate()};renderMonthYear();var activeTimeElement,hanleLastMonthClick=function(){currentDate=currentDate.subtract(1,"month"),renderMonthYear()},hanleNextMonthClick=function(){currentDate=currentDate.add(1,"month"),renderMonthYear()};lastMonthElement.click(hanleLastMonthClick),nextMonthElement.click(hanleNextMonthClick),dateElement.click(function(){$(this).hasClass("disabledDateStatus")||(activeDate=dayjs($(this).attr("v-date")),updateDate())}),availableTime&&availableTime.morning&&0<availableTime.morning.length&&$(".time-selector-morning ul").html(function(){var a="";return availableTime.morning.forEach(function(e,t){a+='<li v-time-span="morning" v-index="'.concat(t,'">').concat(e,"</li>")}),a}),availableTime&&availableTime.afternoon&&0<availableTime.afternoon.length&&$(".time-selector-afternoon ul").html(function(){var a="";return availableTime.afternoon.forEach(function(e,t){a+='<li v-time-span="afternoon" v-index="'.concat(t,'">').concat(e,"</li>")}),a}),availableTime&&availableTime.night&&0<availableTime.night.length&&$(".time-selector-night ul").html(function(){var a="";return availableTime.night.forEach(function(e,t){a+='<li v-time-span="night" v-index="'.concat(t,'">').concat(e,"</li>")}),a}),$(".time-selectorItem ul li").click(function(){activeTimeElement&&activeTimeElement.removeClass("time-selectorItem__active"),(activeTimeElement=$(this)).addClass("time-selectorItem__active")}),$(".order-submit").click(function(){var e={serviceDuration:$("#timeSpan option:selected").text(),teacher:$("#teacher option:selected").text(),date:activeDate.format("YYYY-MM-DD"),time:null===activeTimeElement||void 0===activeTimeElement?void 0:activeTimeElement.text(),note:$("#order-note").val()};console.log(e)});var imageViewer=$(".order-time-gallery");imageViewer.viewer({title:!1,toolbar:{prev:!0,next:!0}});